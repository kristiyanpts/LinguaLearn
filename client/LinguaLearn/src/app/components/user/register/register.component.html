<section class="auth-page">
  <form class="auth-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="auth-title">Register</div>
    <div class="input-field">
      <label for="email">Email:</label>
      <i class="fa-solid fa-envelope"></i>
      <input
        type="email"
        name="email"
        id="email"
        placeholder="Enter your email address"
        formControlName="email"
        required
      />
    </div>
    <div class="input-field">
      <label for="username">Username:</label>
      <i class="fa-solid fa-user"></i>
      <input
        type="text"
        name="username"
        id="username"
        placeholder="Enter your username"
        formControlName="username"
        required
      />
    </div>
    <div class="input-field">
      <label for="firstName">Firstname:</label>
      <i class="fa-solid fa-signature"></i>
      <input
        type="text"
        name="firstName"
        id="firstName"
        placeholder="Enter your firstname"
        formControlName="firstName"
        required
      />
    </div>
    <div class="input-field">
      <label for="lastName">Lastname:</label>
      <i class="fa-solid fa-signature"></i>
      <input
        type="text"
        name="lastName"
        id="lastName"
        placeholder="Enter your lastname"
        formControlName="lastName"
        required
      />
    </div>
    <div class="input-field">
      <label for="password">Password:</label>
      <i class="fa-solid fa-lock"></i>
      <input
        type="password"
        name="password"
        id="password"
        placeholder="Enter your password"
        formControlName="password"
        required
      />
    </div>
    <div class="input-field">
      <label for="repass">Confirm Password:</label>
      <i class="fa-solid fa-lock"></i>
      <input
        type="password"
        name="repass"
        id="repass"
        placeholder="Confirm your password"
        formControlName="repass"
        required
      />
    </div>
    <div class="input-field">
      <label for="image">Profile Picture:</label>
      <i class="fa-solid fa-image"></i>
      <input
        type="text"
        name="image"
        id="image"
        placeholder="Enter your avatars URL"
        formControlName="image"
        required
      />
    </div>
    <div class="input-field">
      <label for="role">You are a:</label>
      <select name="role" id="role" formControlName="role" required>
        <option value="student">Student</option>
        <option value="teacher">Teacher</option>
      </select>
    </div>

    <div
      class="form-errors full-length"
      *ngIf="registerForm.touched && registerForm.invalid"
    >
      <div class="title">Form Invalid</div>

      <!-- Email Validations -->
      <ng-container *ngIf="registerForm.controls.email.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.email.errors?.['required']"
        >
          <span>Email is required.</span>
        </div>
        <div
          class="form-error"
          *ngIf="registerForm.controls.email.errors?.['pattern']"
        >
          <span>Email format is not valid.</span>
        </div>
      </ng-container>

      <!-- Username Validations -->
      <ng-container *ngIf="registerForm.controls.username.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.username.errors?.['required']"
        >
          <span>Username is required.</span>
        </div>
        <div
          class="form-error"
          *ngIf="registerForm.controls.username.errors?.['minlength']"
        >
          <span>Username must be at least 5 characters long.</span>
        </div>
      </ng-container>

      <!-- Password Validations -->
      <ng-container *ngIf="registerForm.controls.password.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.password.errors?.['required']"
        >
          <span>Password is required.</span>
        </div>
        <div
          class="form-error"
          *ngIf="registerForm.controls.password.errors?.['minlength']"
        >
          <span>Password must be at least 8 characters long.</span>
        </div>
        <div
          class="form-error"
          *ngIf="registerForm.controls.password.errors?.['maxlength']"
        >
          <span>Password must be at max 16 characters long.</span>
        </div>
      </ng-container>

      <!-- Repeat Password Validations -->
      <ng-container *ngIf="registerForm.controls.repass.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.repass.errors?.['required']"
        >
          <span>Confirm password is required.</span>
        </div>
        <div
          class="form-error"
          *ngIf="registerForm.controls.repass.errors?.['passwordMismatch']"
        >
          <span>Passwords do not match.</span>
        </div>
      </ng-container>

      <!-- First name Validations -->
      <ng-container *ngIf="registerForm.controls.firstName.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.firstName.errors?.['required']"
        >
          <span>First name is required.</span>
        </div>
      </ng-container>

      <!-- Last name Validations -->
      <ng-container *ngIf="registerForm.controls.lastName.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.lastName.errors?.['required']"
        >
          <span>Last name is required.</span>
        </div>
      </ng-container>

      <!-- Image Validations -->
      <ng-container *ngIf="registerForm.controls.image.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.image.errors?.['required']"
        >
          <span>Image is required.</span>
        </div>
        <div
          class="form-error"
          *ngIf="registerForm.controls.image.errors?.['pattern']"
        >
          <span>Image URL is not valid.</span>
        </div>
      </ng-container>

      <!-- Role Validations -->
      <ng-container *ngIf="registerForm.controls.role.touched">
        <div
          class="form-error"
          *ngIf="registerForm.controls.role.errors?.['required']"
        >
          <span>Role is required.</span>
        </div>
      </ng-container>

      <!-- All data validation -->
      <ng-container *ngIf="registerForm.touched">
        <div class="form-error" *ngIf="registerForm.invalid">
          <span>Not all data is filled in or not all data is correct.</span>
        </div>
      </ng-container>
    </div>

    <button type="submit" [disabled]="registerForm.invalid">Register</button>
    <div class="important-message">
      Before registering double check your selected role. They have the
      following functionality: <br />- Teacher: <strong>Can create</strong> new
      courses and <strong>can join</strong> already created ones. <br />-
      Student: <strong>Can only join</strong> already created courses and
      <strong>can not create</strong> new ones.
    </div>
    <div class="reffer">
      Already have an acoount? <a routerLink="/user/login">Sign In</a>
    </div>
  </form>
</section>
